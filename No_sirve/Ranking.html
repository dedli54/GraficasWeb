<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Nube Colectiva">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap');
  </style>
  <link rel="stylesheet" type="text/css" href="CSS/StyleRanking.css">
  <title>RANKING</title>
</head>
<body> 
  <div class="container">
    <div class="logo">
      <img id="logo_juego" src="IMAGENES/TituloJuego.png">
    </div>
    <div class="ranking">
      <h1 id="title">Puntajes</h1>
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>NickName</th>
            <th>Fecha</th>
            <th>Puntuacion</th>
          </tr>
        </thead>
        <tbody id="ranking-body">
          <!-- Las filas de la tabla se generarán dinámicamente aquí -->
        </tbody>
      </table>
    </div>
    <a href="MainMenu.html">
      <img class="imagen_button" src="IMAGENES/REGRESAR.png" alt="boton_verde"> 
    </a>
  </div>
  
  <script>
    function fetchScores() {
      fetch('get_score.php')
        .then(response => response.json())
        .then(data => {
          const rankingBody = document.getElementById('ranking-body');
          rankingBody.innerHTML = ''; // Limpia el contenido existente
          let rank = 1;
          data.forEach(score => {
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${rank}</td>
              <td>${score.usuario}</td>
              <td>${score.correo}</td>
              <td>${score.puntuacion}</td>
            `;
            rankingBody.appendChild(row);
            rank++;
          });
        })
        .catch(error => console.error('Error fetching scores:', error));
    }

    // Llama a la función para obtener y mostrar los datos
    fetchScores();
  </script>
</body>
</html>
